2020年 3月11日

-------------------------



----------------------



## Linux指令学习  



### 命令表

#### **基本命令**  
| 命令                   |            执行的操作             |
| :--------------------- | :-------------------------------: |
| tty                    |           查看当前终端            |
| ctrl+alt+F1-F7         |             切换终端              |
| man cd                 |       查看所有shell内建命令       |
| useradd 用户名         |             创建用户              |
| userdel 用户名         |             删除用户              |
| passwd 用户名          |             更新密码              |
| su - 用户名            |             切换用户              |
| cd                     |           切换工作目录            |
| mkdir 目录路径         |             创建目录              |
| cat 文件名             |           查看文本文件            |
| ls                     |           列出目录内容            |
| clear                  |               清屏                |
| pwd                    |           显示工作目录            |
| rm 文件名              |             删除文件              |
| touch 文件名           |             创建文件              |
| vi 文件名              |             编辑文件              |
| cp 文件名 新文件名     |             拷贝文件              |
| ifconfig /ip addr show |           查看网卡信息            |
| echo 字符              |             字符输出              |
| history                |             命令历史              |
| ps                     |             显示进程              |
| time                   | 量测指令执行时消耗的时间/系统资源 |
| lsblk                  |            列出块设备             |
| uname                  |    显示机器名，操作系统等信息     |
| cal                    |           显示当前日期            |
| su root                |          切换到root用户           |
| sudo passwd root       |        给root用户输入密码         |
| ctrl + D               |          切换到普通用户           |

#### **查看目录信息**

|   命令   |                  执行的操作                  |
| :------: | :------------------------------------------: |
|    ls    |                列出目录的内容                |
|  ls -a   | 显示指定目录下所有子目录与文件，包括隐藏文件 |
|  ls -l   |          以列表方式显示文件详细信息          |
| ls -l -h |       配合 -l 以人性化方式显示文件大小       |

> **输入==tree== 可以以目录树的方式显示目录内容   **  
>  
> ​                          **（更加直观）**  
>
> ![](C:\Users\许灿祺\Desktop\linux\1.png)  
> 

#### **切换工作目录**  
| 命令  |                 执行的操作                 |
| :---: | :----------------------------------------: |
|  cd   |    用户登陆时，默认是登录用户的主目录。    |
| cd ~  | 切换到当前用户的**主目录**(/home/用户目录) |
| cd .  |               切换到当前目录               |
| cd .. |               切换到上级目录               |
| cd -  |            可进入上次所在的目录            |

  > **如果路径是从根路径开始的，则路径的前面需要加上 “ / ”，如 “ /mnt ”，通常进入某个目录里的文件夹，前面不用加 “ / ”。**



#### **拷贝文件**   

- **将给出的文件或目录复制到另一个文件或目录中**

| 命令  | 执行的操作                         |
| ----- | ---------------------------------- |
| cp -a | 在复制目录时使用(能保持文件原属性) |
| cp -f | 已经存在的目标文件而不提示         |
| cp -i | 交互式复制                         |
| cp -r |                                    |
| cp -v | 显示拷贝进度                       |

> **格式：命令 文件名  新文件名**  

#### **编辑文件**   

   **创建文件** ：touch  文件名

  **vi编辑法**：输入==vi 文件名==  回车，按 a 或 i 进入编辑模式，输入内容，然后按esc退出编辑模式，输入:wq保存并退出  



#### **查看文件**

|  命令  |         执行的操作          |
| :----: | :-------------------------: |
| cat -b |      显示非空白行行号       |
| cat -n |        显示所有行号         |
| cat -T | 将【Tab】按键以 ^T 显示出来 |
| cat -V |       显示出特殊字符        |
| cat -E |  将结尾的断行字符$显示出来  |
| cat –A |         相当于 –vET         |

> **格式：命令 文件名**

#### **删除文件**  

| 命令  |              执行的操作              |
| :---- | :----------------------------------: |
| rm -i |         以进行交互式方式执行         |
| rm -f | 强制删除，忽略不存在的文件，无需提示 |
| rm -r |       删除文件夹时必须加此参数       |

> **格式：命令 文件名**

#### **移动或重命名**  

| 命令  | 执行的操作                       |
| ----- | -------------------------------- |
| mv -f | 禁止交互式操作，有覆盖也不会提示 |
| mv -i | 交互方式操作                     |
| mv -v | 显示移动进度                     |

> **格式：命令 文件名 位置/新名字**

#### **创建目录：**

通过==mkdir==命令可以创建一个新的目录。  

| 命令     | 执行的操作         |
| -------- | ------------------ |
| mkdir -m | 创建的同时设置权限 |
| mkdir -p | 递归创建目录       |

**==参数-p==可递归创建目录，如：**  

mkdir a/b/c/d  -p    

  #### **挂载mount**  

在linux操作系统中，挂载是一个非常重要的功能，使用非常频繁。它指将一个设备（通常是存储设备）挂接到一个已存在的目录上。（这个目录可以不为空，但挂载后这个目录下以前的内容将不可用。）需要理解的是，linux操作系统将所有的设备都看作文件，它将整个计算机的资源都整合成一个大的文件目录。我们要访问存储设备中的文件，必须将文件所在的分区挂载到一个已存在的目录上，然后通过访问这个目录来访问存储设备  。

>  格式：mount  路径分区 路径
>
>  fdisk-l 查看 或者用   df  

| 命令     |                          执行的操作                          |
| -------- | :----------------------------------------------------------: |
| mount -V |                         显示程序版本                         |
| mount -h |                         显示辅助讯息                         |
| mount -v |                显示较讯息，通常和 -f 用来除错                |
| mount -a |            将 /etc/fstab 中定义的所有档案系统挂上            |
| mount -F | 通常和 -a 一起使用，为每一个 mount 动作产生一个行程负责执行。 |
| mount -f | 通常用在除错的用途。它会使 mount 模拟整个挂上的过程。通常会和 -v 一起使用 |
| mount -n | 一般，mount 在挂上后会在 /etc/mtab 中写入一笔资料。系统中没有可写入档案系统存在的情况下可以用这个选项取消这个动作 |



#### **卸载umount**   

| 命令 |             执行的操作              |
| :--: | :---------------------------------: |
|  -a  |  卸除/etc/mtab中记录的所有文件系统  |
|  -h  |              显示帮助               |
|  -n  | 卸除时不要将信息存入/etc/mtab文件中 |
|  -v  |        执行时显示详细的信息         |
|  -V  |            显示版本信息             |

#### **查找文件**  

| 命令           |                          执行的操作                          |
| :------------- | :----------------------------------------------------------: |
| -n<文件名长度> | 指定文件名长度，指定的长度必须大于或等于所有文件中最长的文件名 |
| -p<文件名长度> |      与-n参数相同，但此处的<文件名长度>包括了文件的路径      |
| -w             |                     指定输出时栏位的宽度                     |
| -V             |                         显示版本信息                         |

#### 压缩文件 

| 命令   | 执行的操作                         |
| ------ | ---------------------------------- |
| tar -c | 建立压缩文件参数指令               |
| tar -x | 解开压缩文件参数指令               |
| tar -t | 查看tarfile里的文件                |
| tar -z | 是否有gzip属性，是否需要gzip压缩   |
| tar -j | 是否具有gzip2属性，是否（同上）    |
| tar -v | 压缩过程显示文件                   |
| tar -f | 使用档名 **f之后必须马上接档名**！ |

> **格式（一般情况下）：**
>
> **tar -czvf 名称.tar.gz  要压缩的文件名**
>
> tar **只是打包**，只打包不压缩文件大小不会改变    
>
> **打包时最好指明.tar.gz** 不然出来的压缩包内文件会报错

 #### cal命令 

cal可以显示当前日期  

cal + 年等 可以显示当时日历情况  

#### 更新  

**查看更新**：**sudo apt-get update**  更新可获取软件及其版本信息，但仅仅给出一个可更新的list，具体更新需要通过apt-get upgrade   

**下载安装**：sudo apt-get install 安装包名称  如gcc和ssh

--------------------------------

### 远程ssh访问linux系统  

- **对ssh的解释**：  

  SSH是一种**网络协议**，用于计算机之间的加密登录。如果一个用户从本地计算机，使用SSH协议登录另一台远程计算机，就可以认为，这种登录是安全的，即使被中途截获，密码也不会泄露。   

- **客户端与服务器的关系**：  

  如果，A 机器想被 B 机器远程控制，那么，A 机器需要安装 SSH 服务器，B 机器需要安装 SSH 客户端。

- **使用前的准备**:  

  1. ssh服务器的安装

     安装：**sudo apt-get install openssh-server**    

     查看是否开启ssh：**sudo ps -e | grep ssh**  / **service ssh status**  

     没有显示sshd说明还没有开启，输入：**sudo service ssh start**  开启ssh     

     再查看是否开启时，出现了： **00:00:00 sshd**    

  2. 查看Linux的ip地址   

     输入 **ifconfig -a**  查看eth0 物理网卡中的ip地址 并记录
     
  3. 利用MobaXterm来进行远程连接   
  
     session 中的 ssh 选项进行输入 即可  


### gcc的使用  

- 新建程序： vi 名称  
- 保存并退出： :wq 
- 编译： gcc 名称  -o  可执行文件名  
- 运行： ./可执行文件名

### 运行排序算法  

![](C:\Users\许灿祺\Desktop\linux\2.png)

---------------------------
### 疑问  

1. shell是什么？

2. 内部、外部命令各自表示什么？

3. 终端是什么？

4. 输入tree时并没有将目录以目录树形式呈现

5. 将文件移动到子目录中以后无法再次移动

6.  **tar 命令的-z 参数有什么用**？



-----------------------

### 解决 

1.   shell的英文含义是：壳；真正能够控制计算机硬件（CPU、内存、显示器等）的只有操作系统内核（Kernel），图形界面和命令行只是架设在用户和内核之间的一座桥梁。用户不能会直接接触内核，从而通过另外开发的shell程序，接受用户操作，并进行简单处理，再传递给内核，从而间接操作系统内核。  

   总结：shell可以解释为用户与机器之间的一个桥梁，**shell是命令解释器**，实现人机的交互。  

2.  Linux/Unix命令通常被分为两类：  

   **内部命令**，比如exit、history、cd、source、fg、echo等；  

   内部命令被构建在shell之中。当执行shell命令时，内部命令的执行速度非常快。这是因为没有其他的进程因为执行这条命令而被创建。比如，当执行“cd”命令时，没有进程被创建。在执行过程中只是简单的改变当前的目录。

   **外部命令**，比如ls、cat等。  

   外部命令并没有被构建在shell中。这些可执行的外部命令保存在一个独立的文件当中。当一个外部命令被执行时，一个新的进程即被创建同时命令被执行。比如，当执行“cat”命令时，/usr/bin/cat就会被执行。

3.     终端是处理计算机主机输入输出的一套设备，它用来显示主机运算的输出，并且接受主机要求的输入，典型的终端包括显示器键盘套件，打印机打字机套件等。

4. 输入 `sudo apt install tree`,下载完成后再次输入tree即可

5. 尝试输入==cd== 转到该子目录中，这时不再显示No such file or directory，可以对文件进行操作。验证了猜测。自己建立的都是子目录，登录时所在的目录则是主目录，若不输入==cd==子目录名，则一直是在主目录的角度下进行操作。 所以移动文件到子目录应该输入完整：mv test c/d 代表将test移动到 c 的d目录中

6. tar只是打包，并不会压缩文件，z/j是压缩的格式。-z 指定用 gzip 压缩方式。==新版解压==不需要指定-z，它会自动判断。  实际操作确实如此。若压缩文件的原文件存在，解压后会直接覆盖，所以看起来像没有执行解压。

   





----------------------------

### 感受

第一次接触linux，第一感觉就是有好多复杂的指令，感觉界面冷冰冰的。不过对于办公人员来说，linux提供了更简单直接并且节省资源的环境，更有利于提高工作效率。    

  对指令的学习还是一如对git操作学习那般，记录，猜疑，实践等。不过比起git，linux的指令更多，而且出现的相关问题的解答不是很清晰，更多的是要靠自己摸索。除此之外，紧密的网课和感到酸痛的脖子肩膀，对自己的时间安排提出了更高的要求，  因而这次不再将太多实践结果展示，而是采用精选还有将出现的疑问写下来的方式。  

家里网络不好，gcc的下载花了好长的时间，而且是守在电脑前就没事，一走开就停止下载。到最后就一直守在电脑前面注意着它的下载进度，下载完成的一刻真的如释重负。    

接着就是在上面编译运行，本以为输入指令会比较麻烦，但实际操作下来，却觉得更加方便，而且不拖泥带水，文件的目录在tree的显示下更是一目了然。  

 时间飞逝，我已经经历了三个任务了。这些天有过很多次焦虑的时候，找不到答案，或者是与其他作业叠加在一起的烦躁。除此之外，还有多次的脖子酸痛，肩膀不适。但是回顾这些天，我却发现自己已经学到了这么多东西，当然，还发现自己还有很多东西需要学习。  

在实践和重复中熟悉对这些工具的使用，在后面几天的实践中，这种发现尤为明显，如markdown：一些细节方面的处理被自己发现，才知道原来这样操作是更好的方式。如github：对push到远程仓库更加熟练。  

不管结果怎么样，至少自己努力认真过了，这段经历也会是一段很难忘的回忆，将一直推动我前进。

