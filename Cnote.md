2020年 3月9日  

---------------------------

修改上一次C语言学习笔记的错误： 其中数组的第三点应修改为：“可以动态定义”。  

在看完小甲鱼的有关数组方面的讲解之后，当时记下了“数组不能动态定义”的笔记，但今天回想起来却觉得奇怪：难道这么不智能吗？如果遇到所需空间取决于实际输入的数据的情况，比如用户输入任意数量的数来排序，岂不是没法解决？  

查阅资料后得知，可以动态定义数组。  

> 动态数组，是相对于静态数组而言。静态数组的长度是预先定义好的，在整个程序中，一旦给定大小后就无法改变。而动态数组则不然，它可以随程序需要而重新指定大小。

------------------------------

### 程序一：点亮第一个LED  

```c
#include "reg52.h"  
sbit led =P2^0; //P20口应该写为P2^O 且P为大写  
void main（） 
{
    while（1）
    {
        led=0；//led输出0（低电平）才能点亮
            //led阳极接正极才能正常工作
    }
}
```

- sbit （1位）与 int、char（8位，即1字节）  

- sbit led = P2^0  (led的接口为0~7)  


### 程序二：LED闪烁  

```c
#include "reg52.h"
typedef unsigned char u8; //重定义
typedef unsigned int u16; //u16=0~65535
sbit led =P2^0;
void delay (u16i)//定义延迟函数
{
    while(i--);
}
void main()
{
    while(1)
    {
        led=0;
        delay(5000);
        led=1;//高电平则关闭
        delay(5000);
    }
}
```



- i=1 :约为10微秒  

- while(1):表示无限循环，执行完后又回到起点  

- while（i--）:表示自减，假设i=50，每执行完括号内内容一次，i就减1，“--”就叫自减。直到i=0，退出while{}，相当于执行了50次。  

- typedef：给==已有的类型==起一个别的名字

- 自定义函数：步骤为：声明、调用、定义

    其中：  

1. 调用、定义位置可以互换；
  
2. 自定义函数在主函数之前定义可以不加声明  

   

   - 数据类型

| 数据类型  | 类型大小（byte） |
| :-------: | :--------------: |
|   char    |        1         |
|    int    |        4         |
|   short   |        2         |
|   long    |        4         |
| long long |        8         |

------------------------
### 遇到的问题  

1. 程序二中的重定义 typedef unsigned char u8在程序中并没有使用到，有什么作用  
2. 延迟函数是如何延时的  

---------------------------------

###  问题解决 

1. 删除掉试试，本身重定义只是给已有的类型取更加直观或者简洁的名字，删掉没有影响，可能是为后面更复杂的程序做准备  

2. 分析得知，while（i--）在程序中起到“浪费时间”的作用，这个简单的函数不断重复，使程序在此处消耗时间达到延迟的作用  

   

------------------------

### 感受  

单片机的学习也需要C语言的扎实基础，往后应加强C语言的学习。  

另外就是熟能生巧，多一天的markdown的使用让我对它更加熟悉了，也体会到了它的方便之处，希望往后能更好掌握它。  

遇到问题不要先想着提问，有时候向他人提问反而消耗了很多时间，还可能没法得到令自己满意的答案。应该先自主分析，实践测试一下，认真思考之后再寻求百度搜索或者他人协助，这样是一个更有效率的方法。  